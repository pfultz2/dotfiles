FROM ${docker_base}

RUN apt-get update
RUN apt-get install -y \
    build-essential \
    bc \
    clang-format-3.8 \
    clang-tidy-3.8 \
    cmake \
    cmake-curses-gui \
    curl \
    gettext \
    git \
    iputils-ping \
    ltrace \
    lzma \
    make \
    nano \
    python-dev \
    python-pip \
    python-software-properties \
    software-properties-common \
    subversion \
    time \
    valgrind \
    wget \
    xclip \
    zip

RUN pip install cget

RUN addgroup --gid ${group_id} ${username}
RUN useradd --create-home --shell /bin/bash -u ${user_id} --gid ${group_id} ${username}
USER ${username}

RUN git clone https://github.com/pfultz2/dotfiles.git /home/${username}/dotfiles

RUN /home/${username}/dotfiles/setup/bootstrap.sh

RUN mkdir -p /data
WORKDIR /data
